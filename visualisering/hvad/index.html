<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.110.0"><meta name=description content><link rel=icon href=../../images/favicon.png type=image/png><title>Hvad er ggplot2? :: 4. Semester - Introduktion til kvantitativ metode</title><link href=../../css/nucleus.css?1674807170 rel=stylesheet><link href=../../css/fontawesome-all.min.css?1674807170 rel=stylesheet><link href=../../css/hybrid.css?1674807170 rel=stylesheet><link href=../../css/featherlight.min.css?1674807170 rel=stylesheet><link href=../../css/perfect-scrollbar.min.css?1674807170 rel=stylesheet><link href=../../css/auto-complete.css?1674807170 rel=stylesheet><link href=../../css/atom-one-dark-reasonable.css?1674807170 rel=stylesheet><link href=../../css/theme.css?1674807170 rel=stylesheet><link href=../../css/tabs.css?1674807170 rel=stylesheet><link href=../../css/hugo-theme.css?1674807170 rel=stylesheet><link href=../../css/theme-custom.css?1674807170 rel=stylesheet><script src=../../js/jquery-3.3.1.min.js?1674807170></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../visualisering/hvad/><nav id=sidebar><div id=header-wrapper><div id=header><a href=/4semesterR/><img src=https://www.design.aau.dk/digitalAssets/888/888352_aau_center_white.png width=75 height=75 alt=logo></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../js/lunr.min.js?1674807170></script>
<script type=text/javascript src=../../js/auto-complete.js?1674807170></script>
<script type=text/javascript>var baseurl=""</script><script type=text/javascript src=../../js/search.js?1674807170></script></div><section id=homelinks><ul><li><a class=padding href=../../><i class='fas fa-home'></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/velkommen/ title="Velkommen på 4. semester" class=dd-item><a href=../../velkommen/>Velkommen på 4. semester</a><ul><li data-nav-id=/velkommen/indhold/ title=Indhold class=dd-item><a href=../../velkommen/indhold/>Indhold</a></li><li data-nav-id=/velkommen/l%C3%A6ringsm%C3%A5l/ title=Læringsmål class=dd-item><a href=../../velkommen/l%C3%A6ringsm%C3%A5l/>Læringsmål</a></li><li data-nav-id=/velkommen/viden/ title=Viden class=dd-item><a href=../../velkommen/viden/>Viden</a></li><li data-nav-id=/velkommen/f%C3%A6rdigheder/ title=Færdigheder class=dd-item><a href=../../velkommen/f%C3%A6rdigheder/>Færdigheder</a></li><li data-nav-id=/velkommen/kompetencer/ title=Kompetencer class=dd-item><a href=../../velkommen/kompetencer/>Kompetencer</a></li></ul></li><li data-nav-id=/ops%C3%A6tning-af-r/ title="Installation af R" class=dd-item><a href=../../ops%C3%A6tning-af-r/>Installation af R</a><ul><li data-nav-id=/ops%C3%A6tning-af-r/inst_win/ title="Installation på Windows" class=dd-item><a href=../../ops%C3%A6tning-af-r/inst_win/>Installation på Windows</a></li><li data-nav-id=/ops%C3%A6tning-af-r/inst_mac/ title="Installation på Mac" class=dd-item><a href=../../ops%C3%A6tning-af-r/inst_mac/>Installation på Mac</a></li></ul></li><li data-nav-id=/pakker-og-rstudio/ title="Brug og opsætning af R" class=dd-item><a href=../../pakker-og-rstudio/>Brug og opsætning af R</a><ul><li data-nav-id=/pakker-og-rstudio/visuelr1/ title="Visuel beskrivelse af RStudio 1" class=dd-item><a href=../../pakker-og-rstudio/visuelr1/>Visuel beskrivelse af RStudio 1</a></li><li data-nav-id=/pakker-og-rstudio/visuelr2/ title="Visuel beskrivelse af RStudio 2" class=dd-item><a href=../../pakker-og-rstudio/visuelr2/>Visuel beskrivelse af RStudio 2</a></li><li data-nav-id=/pakker-og-rstudio/pakker/ title=Pakker class=dd-item><a href=../../pakker-og-rstudio/pakker/>Pakker</a></li><li data-nav-id=/pakker-og-rstudio/stier/ title="Hvad er stier?" class=dd-item><a href=../../pakker-og-rstudio/stier/>Hvad er stier?</a><ul><li data-nav-id=/pakker-og-rstudio/stier/mapper-og-stier/ title="Mapper og stier" class=dd-item><a href=../../pakker-og-rstudio/stier/mapper-og-stier/>Mapper og stier</a></li><li data-nav-id=/pakker-og-rstudio/stier/stier-i-r_studio/ title="Stier i R-studio" class=dd-item><a href=../../pakker-og-rstudio/stier/stier-i-r_studio/>Stier i R-studio</a></li><li data-nav-id=/pakker-og-rstudio/stier/hvorfor-stier/ title="Hvorfor stier?" class=dd-item><a href=../../pakker-og-rstudio/stier/hvorfor-stier/>Hvorfor stier?</a></li><li data-nav-id=/pakker-og-rstudio/stier/praktisk-i-r/ title="Praktisk i R" class=dd-item><a href=../../pakker-og-rstudio/stier/praktisk-i-r/>Praktisk i R</a></li><li data-nav-id=/pakker-og-rstudio/stier/troubleshooting/ title=Troubleshooting class=dd-item><a href=../../pakker-og-rstudio/stier/troubleshooting/>Troubleshooting</a></li></ul></li></ul></li><li data-nav-id=/basiskoncepter/ title="Basiskoncepter i R" class=dd-item><a href=../../basiskoncepter/>Basiskoncepter i R</a><ul><li data-nav-id=/basiskoncepter/hvad/ title="Hvad er R?" class=dd-item><a href=../../basiskoncepter/hvad/>Hvad er R?</a></li><li data-nav-id=/basiskoncepter/brug/ title="Brug af R scripts" class=dd-item><a href=../../basiskoncepter/brug/>Brug af R scripts</a></li><li data-nav-id=/basiskoncepter/objekter/ title=Objekter class=dd-item><a href=../../basiskoncepter/objekter/>Objekter</a></li><li data-nav-id=/basiskoncepter/funktioner/ title=Funktioner class=dd-item><a href=../../basiskoncepter/funktioner/>Funktioner</a></li><li data-nav-id=/basiskoncepter/classes/ title=Classes class=dd-item><a href=../../basiskoncepter/classes/>Classes</a></li><li data-nav-id=/basiskoncepter/logiske/ title="Logiske udtryk" class=dd-item><a href=../../basiskoncepter/logiske/>Logiske udtryk</a></li><li data-nav-id=/basiskoncepter/r/ title="R Libraries (pakker)" class=dd-item><a href=../../basiskoncepter/r/>R Libraries (pakker)</a></li><li data-nav-id=/basiskoncepter/brug1/ title="Brug af hjælpe-funktionen" class=dd-item><a href=../../basiskoncepter/brug1/>Brug af hjælpe-funktionen</a></li></ul></li><li data-nav-id=/datastrukturer/ title="Datastrukturer i R" class=dd-item><a href=../../datastrukturer/>Datastrukturer i R</a><ul><li data-nav-id=/datastrukturer/tidyverse/ title=Tidyverse class=dd-item><a href=../../datastrukturer/tidyverse/>Tidyverse</a></li><li data-nav-id=/datastrukturer/indl%C3%A6sning/ title="Indlæsning af data" class=dd-item><a href=../../datastrukturer/indl%C3%A6sning/>Indlæsning af data</a></li><li data-nav-id=/datastrukturer/data/ title="Data Frames (Tabeldata i R)" class=dd-item><a href=../../datastrukturer/data/>Data Frames (Tabeldata i R)</a></li><li data-nav-id=/datastrukturer/enkeltvarialbe/ title="Enkeltvarialbe (vectors)" class=dd-item><a href=../../datastrukturer/enkeltvarialbe/>Enkeltvarialbe (vectors)</a></li><li data-nav-id=/datastrukturer/deskriptive/ title="Deskriptive mål" class=dd-item><a href=../../datastrukturer/deskriptive/>Deskriptive mål</a></li><li data-nav-id=/datastrukturer/missing-v%C3%A6rdier/ title=Missing-værdier class=dd-item><a href=../../datastrukturer/missing-v%C3%A6rdier/>Missing-værdier</a></li></ul></li><li data-nav-id=/datah%C3%A5ndtering/ title="Datahåndtering i R" class=dd-item><a href=../../datah%C3%A5ndtering/>Datahåndtering i R</a><ul><li data-nav-id=/datah%C3%A5ndtering/subset/ title="Subset data med tidyverse" class=dd-item><a href=../../datah%C3%A5ndtering/subset/>Subset data med tidyverse</a></li><li data-nav-id=/datah%C3%A5ndtering/udv%C3%A6lg/ title="Udvælg rækker med filter" class=dd-item><a href=../../datah%C3%A5ndtering/udv%C3%A6lg/>Udvælg rækker med filter</a></li><li data-nav-id=/datah%C3%A5ndtering/h%C3%A5ndtering/ title="Håndtering af missingværdier" class=dd-item><a href=../../datah%C3%A5ndtering/h%C3%A5ndtering/>Håndtering af missingværdier</a></li><li data-nav-id=/datah%C3%A5ndtering/kombin%C3%A9r/ title="Kombinér datahåndteringsfunktioner med pipe (\|\>)" class=dd-item><a href=../../datah%C3%A5ndtering/kombin%C3%A9r/>Kombinér datahåndteringsfunktioner med pipe (\|\>)</a></li><li data-nav-id=/datah%C3%A5ndtering/variabel%C3%A6ndringer/ title="Variabelændringer med mutate" class=dd-item><a href=../../datah%C3%A5ndtering/variabel%C3%A6ndringer/>Variabelændringer med mutate</a></li></ul></li><li data-nav-id=/rekodning/ title="Rekodning i R" class=dd-item><a href=../../rekodning/>Rekodning i R</a><ul><li data-nav-id=/rekodning/hvorn%C3%A5r/ title="Hvornår laver man en ny variabel?" class=dd-item><a href=../../rekodning/hvorn%C3%A5r/>Hvornår laver man en ny variabel?</a></li><li data-nav-id=/rekodning/%C3%A6ndring/ title="Ændring af variabeltype (class)" class=dd-item><a href=../../rekodning/%C3%A6ndring/>Ændring af variabeltype (class)</a></li><li data-nav-id=/rekodning/rekodning/ title="Rekodning af kategoriske variable" class=dd-item><a href=../../rekodning/rekodning/>Rekodning af kategoriske variable</a></li><li data-nav-id=/rekodning/rekodning1/ title="Rekodning af enkelte kategorier (recode)" class=dd-item><a href=../../rekodning/rekodning1/>Rekodning af enkelte kategorier (recode)</a></li><li data-nav-id=/rekodning/rekodning2/ title="Rekodning baseret på enkelt betingelse (if_else/ifelse)" class=dd-item><a href=../../rekodning/rekodning2/>Rekodning baseret på enkelt betingelse (if_else/ifelse)</a></li><li data-nav-id=/rekodning/rekodning3/ title="Rekodning baseret på flere udtryk (case_when)" class=dd-item><a href=../../rekodning/rekodning3/>Rekodning baseret på flere udtryk (case_when)</a></li></ul></li><li data-nav-id=/kodepraksis/ title="God kodepraksis" class=dd-item><a href=../../kodepraksis/>God kodepraksis</a></li><li data-nav-id=/kategoriske/ title="Kategoriske variable i R (factors)" class=dd-item><a href=../../kategoriske/>Kategoriske variable i R (factors)</a><ul><li data-nav-id=/kategoriske/hvad/ title="Hvad er en factor?" class=dd-item><a href=../../kategoriske/hvad/>Hvad er en factor?</a></li><li data-nav-id=/kategoriske/ordered/ title="“Ordered” og “unordered” factors" class=dd-item><a href=../../kategoriske/ordered/>“Ordered” og “unordered” factors</a></li><li data-nav-id=/kategoriske/labels/ title="Labels i en factor" class=dd-item><a href=../../kategoriske/labels/>Labels i en factor</a></li></ul></li><li data-nav-id=/visualisering/ title="Visualisering i R (med ggplot2)" class="dd-item
parent"><a href=../../visualisering/>Visualisering i R (med ggplot2)</a><ul><li data-nav-id=/visualisering/hvad/ title="Hvad er ggplot2?" class="dd-item active"><a href=../../visualisering/hvad/>Hvad er ggplot2?</a></li><li data-nav-id=/visualisering/andre/ title="Andre plots/geoms (histogram og boxplot)" class=dd-item><a href=../../visualisering/andre/>Andre plots/geoms (histogram og boxplot)</a></li><li data-nav-id=/visualisering/unders%C3%B8g/ title="Undersøg lineær sammenhæng" class=dd-item><a href=../../visualisering/unders%C3%B8g/>Undersøg lineær sammenhæng</a></li><li data-nav-id=/visualisering/tilpasning/ title="Tilpasning af ggplot" class=dd-item><a href=../../visualisering/tilpasning/>Tilpasning af ggplot</a></li></ul></li><li data-nav-id=/statistiske/ title="Statistiske modeller i R" class=dd-item><a href=../../statistiske/>Statistiske modeller i R</a><ul><li data-nav-id=/statistiske/arbejd/ title="Arbejd med statistiske modeller i R" class=dd-item><a href=../../statistiske/arbejd/>Arbejd med statistiske modeller i R</a></li><li data-nav-id=/statistiske/kategoriske/ title="Kategoriske variable (factors) i modeller" class=dd-item><a href=../../statistiske/kategoriske/>Kategoriske variable (factors) i modeller</a></li><li data-nav-id=/statistiske/output/ title="Output af model (med `stargazer`)" class=dd-item><a href=../../statistiske/output/>Output af model (med `stargazer`)</a></li></ul></li></ul><section id=footer><p>Built with <a href=https://gohugo.io/>Hugo</a> using <a href=https://github.com/matcornic/hugo-theme-learn>Learn theme</a></p><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../>Velkommen på 4. semester</a> > <a href=../../visualisering/>Visualisering i R (med ggplot2)</a> > Hvad er ggplot2?</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#opbygning-af-et-ggplot>Opbygning af et ggplot</a></li><li><a href=#kombinér-information-i-adskillige-aesthetics-og-visualiseringslag>Kombinér information i adskillige aesthetics og visualiseringslag</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Hvad er ggplot2?</h1><p>Pakken <code>ggplot2</code> er en del af <code>tidyverse</code> og bruges til at lave
visualiseringer af data. Funktionerne i <code>ggplot2</code> gør det muligt at
tilpasse nærmest alt, og understøtter mange typer af visualisering.</p><p>Herunder ses et eksempel på, hvordan man danner et punktdiagram
(scatterplot) i <code>ggplot2</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#a6e22e>library</span>(ggplot2)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ess18_filt <span style=color:#f92672>&lt;-</span> ess18 <span style=color:#f92672>|&gt;</span> <span style=color:#75715e># Filtrering af data for at undgå ekstreme værdier</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>filter</span>(grspnum <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>200000</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Dan scatterplot</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ggplot</span>(data <span style=color:#f92672>=</span> ess18_filt, <span style=color:#a6e22e>aes</span>(x <span style=color:#f92672>=</span> yrbrn, y <span style=color:#f92672>=</span> grspnum)) <span style=color:#f92672>+</span> 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>geom_point</span>()
</span></span></code></pre></div><p><img src=../../output_53_0.png alt=png></p><p>Overordnet set fungerer ggplot ved, at man først angiver, hvad der skal
visualiseres (data og “aesthetics”), hvorefter man angiver, hvordan det
skal visualiseres (“geom”).</p><h3 id=opbygning-af-et-ggplot>Opbygning af et ggplot</h3><p>Som hovedregel følger et ggplot denne skabelon:</p><pre><code>ggplot(data = &lt;DATA&gt;, mapping = aes(&lt;MAPPINGS&gt;)) + 
  &lt;GEOM_FUNCTION&gt;(mapping = aes(&lt;MAPPINGS&gt;))
</code></pre><ul><li><p><strong>ggplot</strong>: Hovedfunktion. Denne angiver <em>hvad</em> der skal visualiseres.
Funktikonen <code>ggplot()</code> indeholder ikke i sig selv information om
hvilken type plot, der skal laves. Dette angives med en
“geom”-funktion.</p><ul><li><em>data</em>: Krævet argument til ggplot. Forventer en data frame som
input.</li></ul></li><li><p><strong>mapping</strong>: Krævet argument. Her angives hvilke informationer fra
data, som skal “mappes” til plottet. Dette gøres ved at angive
“aesthetics” (<code>aes()</code>). De primære mappings er <code>x</code> og <code>y</code> (ligesom
akerne i et plot). Andre mappings inkluderer <code>colour</code>, <code>fill</code>,
<code>shape</code>, <code>size</code>. Mappings angives altid som<code>aes(MAPPINGS)</code> (fx
<code>aes(x = 'eduyrs', y = 'grspnum')</code>). Mappings kan både angives som
argumentet til plottet i det hele taget, eller specifikt for et enkelt
visualiseringslag (“geom”). Forskellen er, hvorvidt mapping gælder for
alle lag i visualiseringen eller kun et enkelt lag.</p></li><li><p><strong>GEOM_FUNCTION (fx geom_point)</strong>: Plotting-funktion. Et “geom” er
kort sagt den type plot, som man gerne vil bruge til at visualisere
data. Mere teknisk referer “geom” til den geometriske form, som skal
bruges til at repræsentere datapunkterne (bjælker, linjer, bokse,
punkter osv.). Det er muligt at have adskillige geoms i et plot (altså
flere lag i visualiseringen).</p><ul><li><em>mapping</em>: Alle geom-funktioner accepterer et mapping argument.
Bemærk dog at det ikke er alle aesthetics der er kompatible med alle
geoms (et histogram har fx ikke en mapping for y).</li></ul></li></ul><p>Det kan være vanskeligt at huske alle de enkelte dele af et ggplot i
starten. Dog findes der et cheatsheet, som man med fordel kan søge hjælp
i:
<a href=https://raw.githubusercontent.com/rstudio/cheatsheets/master/data-visualization-2.1.pdf>https://raw.githubusercontent.com/rstudio/cheatsheets/master/data-visualization-2.1.pdf</a></p><h3 id=kombinér-information-i-adskillige-aesthetics-og-visualiseringslag>Kombinér information i adskillige aesthetics og visualiseringslag</h3><p>Måden <code>ggplot2</code> er bygget op tillader, at man kan relativt nemt kan
kombinere mange typer af information i en enkelt visualisering
(nedenstående er ment som et illustrativt eksempel):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=display:flex><span><span style=color:#a6e22e>ggplot</span>(data <span style=color:#f92672>=</span> ess18_filt, mapping <span style=color:#f92672>=</span> <span style=color:#a6e22e>aes</span>(x <span style=color:#f92672>=</span> eduyrs, y <span style=color:#f92672>=</span> grspnum)) <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>geom_point</span>(mapping <span style=color:#f92672>=</span> <span style=color:#a6e22e>aes</span>(colour <span style=color:#f92672>=</span> gndr, shape <span style=color:#f92672>=</span> vote, size <span style=color:#f92672>=</span> netustm)) <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>geom_smooth</span>(colour <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;lightgreen&#39;</span>)
</span></span></code></pre></div><p><img src=../../output_55_1.png alt=png></p><div class="notices info"><p><code>ggplot2</code> bruger <code>+</code> til at tilføje lag til
visualiseringen. Selvom koden kan minde om måden, som man bruger pipe
(<code>|></code>), så vil det ikke virke her. Pipe bruges til at videreføre et
output til en ny funktion. I dette tilfælde bruger vi <code>+</code> til at
fortælle R, at plottet ikke er færdigt, da der skal tilføjes flere lag.</p></div><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../visualisering/ title="Visualisering i R (med ggplot2)"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../visualisering/andre/ title="Andre plots/geoms (histogram og boxplot)" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../js/clipboard.min.js?1674807170></script>
<script src=../../js/perfect-scrollbar.min.js?1674807170></script>
<script src=../../js/perfect-scrollbar.jquery.min.js?1674807170></script>
<script src=../../js/jquery.sticky.js?1674807170></script>
<script src=../../js/featherlight.min.js?1674807170></script>
<script src=../../js/highlight.pack.js?1674807170></script>
<script>hljs.initHighlightingOnLoad()</script><script src=../../js/modernizr.custom-3.6.0.js?1674807170></script>
<script src=../../js/learn.js?1674807170></script>
<script src=../../js/hugo-learn.js?1674807170></script>
<script src=../../mermaid/mermaid.js?1674807170></script>
<script>mermaid.initialize({startOnLoad:!0})</script></body></html>